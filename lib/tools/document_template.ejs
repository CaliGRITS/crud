API
=========

The api was designed with [crud](https://github.com/uhray/crud).

When querying the API, reponses will always be JSON formatted like the following:

```json
{
  "error": // error message or object,
  "data" : // data object or value
}
```

## API Routes

All routes should be prefixed with `'/api/'. The API is broken down into the following entities:

<% entities.forEach(function(entity) { -%>
* [<%= entity.route() %>](#<%=: entity.route() | anchor %>)
<% }) -%>

<% entities.forEach(function(entity) { -%>

### <%= entity.route() %>

Example URL: https://localhost/api<%= entity.route() %>

<% if (entity.description()) { -%>
<%= entity.description() -%>
<% } -%>

<% if (entity._c()) { -%>
#### `POST` - create post request
  <% if (entity._c().cb.params) { -%>

* params:
  ```json
  <%-: entity._c().cb.params | stringify %>
  ```
  <% } -%>
  <% if (entity._c().cb.response) { -%>

* response:
  ```json
  <%-: entity._c().cb.response | stringify %>
  ```

  <% } -%>
<% } -%>
<% if (entity._r()) { -%>

#### `GET` - retrieve get request
  <% if (entity._r().cb.params) { -%>

* params:
  ```json
  <%-: entity._r().cb.params | stringify %>
  ```
  <% } -%>
  <% if (entity._r().cb.response) { -%>

* response:
  ```json
  <%-: entity._r().cb.response | stringify %>
  ```

  <% } -%>
<% } -%>
<% if (entity._u()) { -%>

#### `PUT` - update put request
  <% if (entity._u().cb.params) { -%>

* params:
  ```json
  <%-: entity._u().cb.params | stringify %>
  ```
  <% } -%>
  <% if (entity._u().cb.response) { -%>

* response:
  ```json
  <%-: entity._u().cb.response | stringify %>
  ```

  <% } -%>
<% } -%>
<% if (entity._d()) { -%>

#### `DEL` - delete del request
  <% if (entity._d().cb.params) { -%>

* params:
  ```json
  <%-: entity._d().cb.params | stringify %>
  ```
  <% } -%>
  <% if (entity._d().cb.response) { -%>

* response:
  ```json
  <%-: entity._d().cb.response | stringify %>
  ```
  <% } -%>
<% } -%>
<% }) -%>

